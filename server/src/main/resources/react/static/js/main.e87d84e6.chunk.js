(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{179:function(e,t,n){},181:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),i=n.n(c),r=n(11),s=n.n(r),o=n(7),l=n(24),j=n(17),d=n(259),u=n(258),b=n(131),h=n(257),O=n(225),g=n(234),x=n(235),m=n(50),p=n(183),f=n(115),v=n.n(f),y=i.a.createContext({title:"Tachidesk",setTitle:function(){},action:Object(a.jsx)("div",{}),setAction:function(){},override:{status:!1,value:Object(a.jsx)("div",{})},setOverride:function(){}}),N=i.a.createContext({darkTheme:!0,setDarkTheme:function(){}}),C=n(228),w=n(230),k=n(231),S=n(232),L=n(233),E=n(62),I=n.n(E),R=Object(O.a)({list:{width:250}});function P(e){var t=e.drawerOpen,n=e.setDrawerOpen,c=R();return Object(a.jsx)("div",{children:Object(a.jsx)(C.a,{open:t,anchor:"left",onClose:function(){return n(!1)},children:Object(a.jsx)("div",{className:c.list,role:"presentation",onClick:function(){return n(!1)},onKeyDown:function(){return n(!1)},children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(l.b,{to:"/library",style:{color:"inherit",textDecoration:"none"},children:Object(a.jsxs)(k.a,{button:!0,children:[Object(a.jsx)(S.a,{children:Object(a.jsx)(I.a,{})}),Object(a.jsx)(L.a,{primary:"Library"})]},"Library")}),Object(a.jsx)(l.b,{to:"/extensions",style:{color:"inherit",textDecoration:"none"},children:Object(a.jsxs)(k.a,{button:!0,children:[Object(a.jsx)(S.a,{children:Object(a.jsx)(I.a,{})}),Object(a.jsx)(L.a,{primary:"Extensions"})]},"Extensions")}),Object(a.jsx)(l.b,{to:"/sources",style:{color:"inherit",textDecoration:"none"},children:Object(a.jsxs)(k.a,{button:!0,children:[Object(a.jsx)(S.a,{children:Object(a.jsx)(I.a,{})}),Object(a.jsx)(L.a,{primary:"Sources"})]},"Sources")}),Object(a.jsx)(l.b,{to:"/settings",style:{color:"inherit",textDecoration:"none"},children:Object(a.jsxs)(k.a,{button:!0,children:[Object(a.jsx)(S.a,{children:Object(a.jsx)(I.a,{})}),Object(a.jsx)(L.a,{primary:"Settings"})]},"settings")})]})})})})}var F=Object(O.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function T(){var e=F(),t=Object(c.useState)(!1),n=Object(o.a)(t,2),i=n[0],r=n[1],s=Object(c.useContext)(y),l=s.title,j=s.action,d=s.override,u=Object(c.useContext)(N).darkTheme;return Object(a.jsxs)(a.Fragment,{children:[d.status&&d.value,!d.status&&Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(g.a,{position:"fixed",color:u?"default":"primary",children:Object(a.jsxs)(x.a,{children:[Object(a.jsx)(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",disableRipple:!0,onClick:function(){return r(!0)},children:Object(a.jsx)(v.a,{})}),Object(a.jsx)(m.a,{variant:"h6",className:e.title,children:l}),j]})}),Object(a.jsx)(P,{drawerOpen:i,setDrawerOpen:r})]})]})}var A=n(33),D=n(263),B=n(242),U=n(237),M=n(238),W=n(241),G=n(236),H=n(240),z=n(74),J=n.n(z),K=n(239),q=[{code:"all",name:"All",nativeName:"All"},{code:"installed",name:"Installed",nativeName:"Installed"},{code:"updates pending",name:"Updates pending",nativeName:"Updates pending"},{code:"en",name:"English",nativeName:"English"},{code:"ca",name:"Catalan; Valencian",nativeName:"Catal\xe0"},{code:"de",name:"German",nativeName:"Deutsch"},{code:"es",name:"Spanish; Castilian",nativeName:"Espa\xf1ol"},{code:"fr",name:"French",nativeName:"Fran\xe7ais"},{code:"id",name:"Indonesian",nativeName:"Indonesia"},{code:"it",name:"Italian",nativeName:"Italiano"},{code:"pt",name:"Portuguese",nativeName:"Portugu\xeas"},{code:"vi",name:"Vietnamese",nativeName:"Ti\u1ebfng Vi\u1ec7t"},{code:"tr",name:"Turkish",nativeName:"T\xfcrk\xe7e"},{code:"ru",name:"Russian",nativeName:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"ar",name:"Arabic",nativeName:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093f\u0928\u094d\u0926\u0940"},{code:"th",name:"Thai",nativeName:"\u0e44\u0e17\u0e22"},{code:"zh",name:"Chinese",nativeName:"\u4e2d\u6587"},{code:"ja",name:"Japanese",nativeName:"\u65e5\u672c\u8a9e"},{code:"ko",name:"Korean",nativeName:"\ud55c\uad6d\uc5b4"},{code:"zu",name:"Zulu",nativeName:"isiZulu"},{code:"xh",name:"Xhosa",nativeName:"isiXhosa"},{code:"uk",name:"Ukrainian",nativeName:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},{code:"ro",name:"Romanian",nativeName:"Rom\xe2n\u0103"},{code:"bg",name:"Bulgarian",nativeName:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438"},{code:"cs",name:"Czech",nativeName:"\u010de\u0161tina"},{code:"pl",name:"Polish",nativeName:"polski"},{code:"no",name:"Norwegian",nativeName:"Norsk"},{code:"nl",name:"Dutch",nativeName:"Nederlands"},{code:"my",name:"Burmese",nativeName:"\u1017\u1019\u102c\u1005\u102c"},{code:"ms",name:"Malay",nativeName:"Malaysia"},{code:"mn",name:"Mongolian",nativeName:"\u041c\u043e\u043d\u0433\u043e\u043b"},{code:"ml",name:"Malayalam",nativeName:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02"},{code:"ku",name:"Kurdish",nativeName:"Kurd\xee"},{code:"hu",name:"Hungarian",nativeName:"Magyar"},{code:"hr",name:"Croatian",nativeName:"Hrvatski"},{code:"he",name:"Hebrew",nativeName:"\u05e2\u05d1\u05e8\u05d9\u05ea"},{code:"fil",name:"Filipino",nativeName:"Filipino"},{code:"fi",name:"Finnish",nativeName:"suomi"},{code:"fa",name:"Persian",nativeName:"\u0641\u0627\u0631\u0633\u06cc"},{code:"eu",name:"Basque",nativeName:"euskara"},{code:"el",name:"Greek",nativeName:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},{code:"da",name:"Danish",nativeName:"dansk"}];function Y(e){for(var t=-1!==e.indexOf("-")?e.indexOf("-"):e.length,n=e.toLocaleLowerCase().substring(0,t),a="Error",c=0;c<q.length;c++)q[c].code===n&&(a=q[c].nativeName);return-1!==e.indexOf("-")&&(a="".concat(a," (").concat(e.substring(t+1),")")),a}var _=function(e,t){var n=Y(e),a=Y(t);return"en"===e?-1:"en"===t||n>a?1:-1},V=Object(O.a)((function(){return Object(D.a)({paper:{maxHeight:435,width:"80%"}})}));function X(e){var t=e.shownLangs,n=e.setShownLangs,i=e.allLangs,r=Object(c.useState)(t),s=Object(o.a)(r,2),l=s[0],j=s[1],d=V(),u=Object(c.useState)(!1),b=Object(o.a)(u,2),h=b[0],O=b[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p.a,{onClick:function(){return O(!0)},"aria-label":"display more actions",edge:"end",color:"inherit",children:Object(a.jsx)(J.a,{})}),Object(a.jsxs)(G.a,{classes:d,maxWidth:"xs",open:h,children:[Object(a.jsx)(U.a,{children:"Enabled Languages"}),Object(a.jsx)(M.a,{dividers:!0,style:{padding:0},children:Object(a.jsx)(w.a,{children:i.map((function(e){return Object(a.jsxs)(k.a,{children:[Object(a.jsx)(L.a,{primary:Y(e)}),Object(a.jsx)(K.a,{children:Object(a.jsx)(H.a,{checked:-1!==l.indexOf(e),onChange:function(t){return function(e,t){if(e.target.checked)j([].concat(Object(A.a)(l),[t]));else{var n=JSON.parse(JSON.stringify(l));n.splice(n.indexOf(t),1),j(n)}}(t,e)}})})]},e)}))})}),Object(a.jsxs)(W.a,{children:[Object(a.jsx)(B.a,{autoFocus:!0,onClick:function(){O(!1)},color:"primary",children:"Cancel"}),Object(a.jsx)(B.a,{onClick:function(){O(!1),n(l)},color:"primary",children:"Ok"})]})]})]})}var Z=n(243),$=n(244),Q=n(264);var ee={getItem:function(e,t){try{var n=window.localStorage.getItem(e);if(null!==n)return JSON.parse(n);window.localStorage.setItem(e,JSON.stringify(t))}finally{}return t},setItem:function(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}finally{}}};function te(e,t){var n=t instanceof Function?t():t,a=Object(c.useState)(ee.getItem(e,n)),i=Object(o.a)(a,2),r=i[0],s=i[1];return[r,function(t){var n=t instanceof Function?t(r):t;s(n),ee.setItem(e,n)}]}var ne=Object(O.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:16},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},icon:{width:e.spacing(7),height:e.spacing(7),flex:"0 0 auto",marginRight:16}}}));function ae(e){var t=e.source,n=t.id,c=t.name,i=t.lang,r=t.iconUrl,s=t.supportsLatest,l=te("serverBaseURL",""),j=Object(o.a)(l,1)[0],d=ne();return Object(a.jsx)(Z.a,{children:Object(a.jsxs)($.a,{className:d.root,children:[Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(Q.a,{variant:"rounded",className:d.icon,alt:c,src:j+r}),Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(a.jsx)(m.a,{variant:"h5",component:"h2",children:c}),Object(a.jsx)(m.a,{variant:"caption",display:"block",gutterBottom:!0,children:Y(i)})]})]}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(B.a,{variant:"outlined",style:{marginLeft:20},onClick:function(){window.location.href="/sources/".concat(n,"/search/")},children:"Search"}),s&&Object(a.jsx)(B.a,{variant:"outlined",style:{marginLeft:20},onClick:function(){window.location.href="/sources/".concat(n,"/latest/")},children:"Latest"}),Object(a.jsx)(B.a,{variant:"outlined",style:{marginLeft:20},onClick:function(){window.location.href="/sources/".concat(n,"/popular/")},children:"Browse"})]})]})})}var ce,ie=n(116),re=n.n(ie),se=window.location,oe=se.hostname,le=se.port,je=se.protocol;ce="3000"===le?"4567":le;var de=re.a.create({baseURL:ee.getItem("serverBaseURL","".concat(je,"//").concat(oe,":").concat(ce))});de.interceptors.request.use((function(e){return e.data instanceof FormData&&Object.assign(e.headers,{"Content-Type":"multipart/form-data"}),e}));var ue=de;function be(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e.lang)&&t.push(e.lang)})),t.sort(_),t}function he(e){var t={};return e.forEach((function(e){void 0===t[e.lang]&&(t[e.lang]=[]),t[e.lang].push(e)})),t}function Oe(){var e=Object(c.useContext)(y),t=e.setTitle,n=e.setAction,r=te("shownSourceLangs",["en"]),s=Object(o.a)(r,2),l=s[0],j=s[1],d=Object(c.useState)([]),u=Object(o.a)(d,2),b=u[0],h=u[1],O=Object(c.useState)(!1),g=Object(o.a)(O,2),x=g[0],m=g[1];return Object(c.useEffect)((function(){t("Sources"),n(Object(a.jsx)(X,{shownLangs:l,setShownLangs:j,allLangs:be(b)}))}),[l,b]),Object(c.useEffect)((function(){ue.get("/api/v1/source/list").then((function(e){return e.data})).then((function(e){h(e),m(!0)}))}),[]),0===b.length?x?Object(a.jsx)("h3",{children:"No sources found. Install Some Extensions first."}):Object(a.jsx)("h3",{children:"loading..."}):Object(a.jsx)(a.Fragment,{children:Object.entries(he(b)).sort((function(e,t){return _(e[0],t[0])})).map((function(e){var t=Object(o.a)(e,2),n=t[0],c=t[1];return-1!==l.indexOf(n)&&Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("h1",{style:{marginLeft:25},children:Y(n)},n),c.map((function(e){return Object(a.jsx)(ae,{source:e},e.id)}))]},n)}))})}var ge=Object(O.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:16},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},icon:{width:e.spacing(7),height:e.spacing(7),flex:"0 0 auto",marginRight:16}}}));function xe(e){var t=e.extension,n=t.name,i=t.lang,r=t.versionName,s=t.installed,l=t.hasUpdate,j=t.obsolete,d=t.pkgName,u=t.iconUrl,b=e.notifyInstall,h=Object(c.useState)((function(){return j?"obsolete":l?"update":s?"uninstall":"install"})),O=Object(o.a)(h,2),g=O[0],x=O[1],p=te("serverBaseURL",""),f=Object(o.a)(p,1)[0],v=ge(),y="all"===i?"All":i.toUpperCase();function N(){x("uninstalling"),ue.get("/api/v1/extension/uninstall/".concat(d)).then((function(){b()}))}function C(){switch(g){case"install":x("installing"),ue.get("/api/v1/extension/install/".concat(d)).then((function(){x("uninstall"),b()}));break;case"update":x("updating"),ue.get("/api/v1/extension/update/".concat(d)).then((function(){x("uninstall"),b()}));break;case"obsolete":N(),setTimeout((function(){return window.location.reload()}),3e3);break;case"uninstall":N()}}return Object(a.jsx)(Z.a,{children:Object(a.jsxs)($.a,{className:v.root,children:[Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(Q.a,{variant:"rounded",className:v.icon,alt:n,src:f+u}),Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(a.jsx)(m.a,{variant:"h5",component:"h2",children:n}),Object(a.jsxs)(m.a,{variant:"caption",display:"block",gutterBottom:!0,children:[y," ",r]})]})]}),Object(a.jsx)(B.a,{variant:"outlined",style:{color:"obsolete"===g?"red":"inherit"},onClick:function(){return C()},children:g})]})})}var me=[];function pe(){var e=Object(c.useContext)(y),t=e.setTitle,n=e.setAction,r=te("shownExtensionLangs",[].concat(Object(A.a)(["en"]),["all"])),s=Object(o.a)(r,2),l=s[0],j=s[1];Object(c.useEffect)((function(){t("Extensions"),n(Object(a.jsx)(X,{shownLangs:l,setShownLangs:j,allLangs:me}))}),[l]);var d=Object(c.useState)([]),u=Object(o.a)(d,2),b=u[0],h=u[1],O=Object(c.useState)({}),g=Object(o.a)(O,2),x=g[0],m=g[1],p=Object(c.useState)(0),f=Object(o.a)(p,2),v=f[0],N=f[1];if(Object(c.useEffect)((function(){ue.get("/api/v1/extension/list").then((function(e){return e.data})).then((function(e){return h(e)}))}),[v]),Object(c.useEffect)((function(){if(b.length>0){var e=function(e){me.length=0;var t={installed:[],"updates pending":[]};return e.sort((function(e,t){return e.apkName>t.apkName?1:-1})),e.forEach((function(e){void 0===t[e.lang]&&(t[e.lang]=[],"all"!==e.lang&&me.push(e.lang)),e.installed?e.hasUpdate?t["updates pending"].push(e):t.installed.push(e):t[e.lang].push(e)})),me.sort(_),t}(b);m(e)}}),[b]),0===Object.entries(x).length)return Object(a.jsx)("h3",{children:"loading..."});var C=["updates pending","installed"].concat(Object(A.a)(l));return Object(a.jsx)(a.Fragment,{children:Object.entries(x).map((function(e){var t=Object(o.a)(e,2),n=t[0],c=t[1];return-1!==C.indexOf(n)&&c.length>0&&Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("h1",{style:{marginLeft:25},children:Y(n)},n),c.map((function(e){return Object(a.jsx)(xe,{extension:e,notifyInstall:function(){N(v+1)}},e.apkName)}))]},n)}))})}var fe=n(245),ve=n(246),ye=n(247),Ne=Object(O.a)({root:{height:"100%",width:"100%",display:"flex"},wrapper:{position:"relative",height:"100%"},gradient:{position:"absolute",top:0,width:"100%",height:"100%",background:"linear-gradient(to bottom, transparent, #000000)",opacity:.5},title:{position:"absolute",bottom:0,padding:"0.5em",color:"white"},image:{height:"100%",width:"100%"}}),Ce=i.a.forwardRef((function(e,t){var n=e.manga,c=n.id,i=n.title,r=n.thumbnailUrl,s=Ne(),j=te("serverBaseURL",""),d=Object(o.a)(j,1)[0];return Object(a.jsx)(fe.a,{item:!0,xs:6,sm:4,md:3,lg:2,children:Object(a.jsx)(l.b,{to:"/manga/".concat(c,"/"),children:Object(a.jsx)(Z.a,{className:s.root,ref:t,children:Object(a.jsx)(ve.a,{children:Object(a.jsxs)("div",{className:s.wrapper,children:[Object(a.jsx)(ye.a,{className:s.image,component:"img",alt:i,image:d+r,title:i}),Object(a.jsx)("div",{className:s.gradient}),Object(a.jsx)(m.a,{className:s.title,variant:"h5",component:"h2",children:i})]})})})})})}));function we(e){var t,n=e.mangas,i=e.message,r=e.hasNextPage,s=e.lastPageNum,o=e.setLastPageNum,l=Object(c.useRef)(),j=function(){if(l.current){var e=l.current.getBoundingClientRect();(e.y+e.height)/window.innerHeight<2&&r&&o(s+1)}};return Object(c.useEffect)((function(){return window.addEventListener("scroll",j,!0),function(){window.removeEventListener("scroll",j,!0)}}),[r,n]),t=0===n.length?Object(a.jsx)("h3",{children:i}):n.map((function(e,t){return t===n.length-1?Object(a.jsx)(Ce,{manga:e,ref:l}):Object(a.jsx)(Ce,{manga:e})})),Object(a.jsx)(fe.a,{container:!0,spacing:1,style:{margin:0,width:"100%",padding:"5px"},children:t})}function ke(e){var t=Object(c.useContext)(y),n=t.setTitle,i=t.setAction;Object(c.useEffect)((function(){n("Source"),i(Object(a.jsx)(a.Fragment,{}))}),[]);var r=Object(j.h)().sourceId,s=Object(c.useState)([]),l=Object(o.a)(s,2),d=l[0],u=l[1],b=Object(c.useState)(!1),h=Object(o.a)(b,2),O=h[0],g=h[1],x=Object(c.useState)(1),m=Object(o.a)(x,2),p=m[0],f=m[1];return Object(c.useEffect)((function(){ue.get("/api/v1/source/".concat(r)).then((function(e){return e.data})).then((function(e){return n(e.name)}))}),[]),Object(c.useEffect)((function(){var t=e.popular?"popular":"latest";ue.get("/api/v1/source/".concat(r,"/").concat(t,"/").concat(p)).then((function(e){return e.data})).then((function(e){u([].concat(Object(A.a)(d),Object(A.a)(e.mangaList.map((function(e){return{title:e.title,thumbnailUrl:e.thumbnailUrl,id:e.id}}))))),g(e.hasNextPage)}))}),[p]),Object(a.jsx)(we,{mangas:d,hasNextPage:O,lastPageNum:p,setLastPageNum:f})}we.defaultProps={message:"loading..."};var Se=n(34),Le=Object(O.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:16},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},icon:{width:e.spacing(7),height:e.spacing(7),flex:"0 0 auto",marginRight:16}}}));function Ee(e){var t=Le(),n=(Object(j.g)(),e.chapter),c=n.date_upload&&new Date(n.date_upload).toISOString().slice(0,10);return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("li",{children:Object(a.jsx)(Z.a,{children:Object(a.jsxs)($.a,{className:t.root,children:[Object(a.jsx)("div",{style:{display:"flex"},children:Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(a.jsxs)(m.a,{variant:"h5",component:"h2",children:[n.name,n.chapter_number>0&&" : ".concat(n.chapter_number)]}),Object(a.jsxs)(m.a,{variant:"caption",display:"block",gutterBottom:!0,children:[n.scanlator,n.scanlator&&" ",c]})]})}),Object(a.jsx)(l.b,{to:"/manga/".concat(n.mangaId,"/chapter/").concat(n.chapterIndex),style:{textDecoration:"none"},children:Object(a.jsx)(B.a,{variant:"outlined",style:{marginLeft:20},children:"open"})})]})})})})}var Ie=n(117),Re=n.n(Ie),Pe=n(118),Fe=n.n(Pe),Te=n(119),Ae=n.n(Te),De=n(262),Be=n(249),Ue=n(248),Me=Object(O.a)((function(){return Object(D.a)({paper:{maxHeight:435,width:"80%"}})}));function We(e){var t=Me(),n=e.open,i=e.setOpen,r=e.mangaId,s=Object(c.useState)([]),l=Object(o.a)(s,2),j=l[0],d=l[1],u=Object(c.useState)(0),b=Object(o.a)(u,2),h=b[0],O=b[1];Object(c.useEffect)((function(){var e=[];ue.get("/api/v1/category/").then((function(e){return e.data})).then((function(t){e=t.map((function(e){return{category:e,selected:!1}}))})).then((function(){ue.get("/api/v1/manga/".concat(r,"/category/")).then((function(e){return e.data})).then((function(t){t.forEach((function(t){e[t.order-1].selected=!0})),d(e)}))}))}),[h,n]);var g=function(e,t){(e.target.checked?ue.get:ue.delete)("/api/v1/manga/".concat(r,"/category/").concat(t)).then((function(){return O(h+1)}))};return Object(a.jsxs)(G.a,{classes:t,maxWidth:"xs",open:n,children:[Object(a.jsx)(U.a,{children:"Set categories"}),Object(a.jsx)(M.a,{dividers:!0,children:Object(a.jsxs)(Ue.a,{children:[0===j.length&&Object(a.jsxs)("span",{children:["No categories found!",Object(a.jsx)("br",{}),"You should make some from settings."]}),j.map((function(e){return Object(a.jsx)(Be.a,{control:Object(a.jsx)(De.a,{checked:e.selected,onChange:function(t){return g(t,e.category.id)},color:"default"}),label:e.category.name})}))]})}),Object(a.jsxs)(W.a,{children:[Object(a.jsx)(B.a,{autoFocus:!0,onClick:function(){i(!1)},color:"primary",children:"Cancel"}),Object(a.jsx)(B.a,{onClick:function(){i(!1)},color:"primary",children:"Ok"})]})]})}function Ge(e){return e||"UNKNOWN"}function He(e){var t=Object(c.useContext)(y).setAction,n=e.manga,i=Object(c.useState)(n.inLibrary?"In Library":"Add To Library"),r=Object(o.a)(i,2),s=r[0],l=r[1],j=Object(c.useState)(!1),d=Object(o.a)(j,2),u=d[0],b=d[1];Object(c.useEffect)((function(){t("In Library"===s?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p.a,{onClick:function(){return b(!0)},"aria-label":"display more actions",edge:"end",color:"inherit",children:Object(a.jsx)(J.a,{})}),Object(a.jsx)(We,{open:u,setOpen:b,mangaId:n.id})]}):Object(a.jsx)(a.Fragment,{}))}),[s,u]);var h,g=te("serverBaseURL",""),x=Object(o.a)(g,1)[0],m=function(e){return Object(O.a)((function(t){var n;return{root:Object(Se.a)({width:"100%"},t.breakpoints.up("md"),{position:"sticky",top:"64px",left:"0px",width:"50vw",height:"calc(100vh - 64px)",alignSelf:"flex-start",overflowY:"auto"}),top:{padding:"10px"},leftRight:{display:"flex"},leftSide:{"& img":{borderRadius:4,maxWidth:"100%",minWidth:"100%",height:"auto"},maxWidth:"50%"},rightSide:Object(Se.a)({marginLeft:15,maxWidth:"100%","& span":{fontWeight:"400"}},t.breakpoints.up("lg"),{fontSize:"1.3em"}),buttons:{display:"flex",justifyContent:"space-around","& button":{color:"In Library"===e?"#2196f3":"inherit"},"& span":{display:"block",fontSize:"0.85em"},"& a":{textDecoration:"none",color:"#858585","& button":{color:"inherit"}}},bottom:(n={paddingLeft:"10px",paddingRight:"10px"},Object(Se.a)(n,t.breakpoints.up("md"),{fontSize:"1.2em"}),Object(Se.a)(n,t.breakpoints.up("lg"),{fontSize:"1.3em"}),n),description:{"& h4":{marginTop:"1em",marginBottom:0},"& p":{textAlign:"justify",textJustify:"inter-word"}},genre:{display:"flex",flexWrap:"wrap","& h5":{border:"2px solid #2196f3",borderRadius:"1.13em",marginRight:"1em",marginTop:0,marginBottom:"10px",padding:"0.3em",color:"#2196f3"}}}}))}(s)();function f(){"Add To Library"===s?ue.get("/api/v1/manga/".concat(n.id,"/library/")).then((function(){l("In Library")})):ue.delete("/api/v1/manga/".concat(n.id,"/library/")).then((function(){l("Add To Library")}))}return Object(a.jsxs)("div",{className:m.root,children:[Object(a.jsxs)("div",{className:m.top,children:[Object(a.jsxs)("div",{className:m.leftRight,children:[Object(a.jsx)("div",{className:m.leftSide,children:Object(a.jsx)("img",{src:x+n.thumbnailUrl,alt:"Manga Thumbnail"})}),Object(a.jsxs)("div",{className:m.rightSide,children:[Object(a.jsx)("h1",{children:n.title}),Object(a.jsxs)("h3",{children:["Author:"," ",Object(a.jsx)("span",{children:Ge(n.author)})]}),Object(a.jsxs)("h3",{children:["Artist:"," ",Object(a.jsx)("span",{children:Ge(n.artist)})]}),Object(a.jsxs)("h3",{children:["Status:"," ",n.status]}),Object(a.jsxs)("h3",{children:["Source:"," ",(h=n.source,null!==h.name?"".concat(h.name," (").concat(h.lang.toLocaleUpperCase(),")"):h.id)]})]})]}),Object(a.jsxs)("div",{className:m.buttons,children:[Object(a.jsx)("div",{children:Object(a.jsxs)(p.a,{onClick:function(){return f()},children:["In Library"===s&&Object(a.jsx)(Re.a,{}),"In Library"!==s&&Object(a.jsx)(Fe.a,{}),Object(a.jsx)("span",{children:s})]})}),Object(a.jsx)("a",{href:n.url,target:"_blank",children:Object(a.jsxs)(p.a,{children:[Object(a.jsx)(Ae.a,{}),Object(a.jsx)("span",{children:"Open Site"})]})})]})]}),Object(a.jsxs)("div",{className:m.bottom,children:[Object(a.jsxs)("div",{className:m.description,children:[Object(a.jsx)("h4",{children:"About"}),Object(a.jsx)("p",{children:n.description})]}),Object(a.jsx)("div",{className:m.genre,children:n.genre.split(", ").map((function(e){return Object(a.jsx)("h5",{children:e},e)}))})]})]})}var ze=n(250),Je=Object(O.a)({loading:{margin:"10px auto",display:"flex",justifyContent:"center"}});function Ke(e){var t=e.children,n=e.shouldRender,c=e.component,r=e.componentProps,s=Je();if(n instanceof Function?n():n){if(c)return i.a.createElement(c,r);if(t)return Object(a.jsx)(a.Fragment,{children:t})}return Object(a.jsx)("div",{className:s.loading,children:Object(a.jsx)(ze.a,{thickness:5})})}var qe=Object(O.a)((function(e){return{root:Object(Se.a)({},e.breakpoints.up("md"),{display:"flex"}),chapters:Object(Se.a)({listStyle:"none",padding:0},e.breakpoints.up("md"),{width:"50vw",height:"calc(100vh - 64px)",overflowY:"auto",margin:0}),loading:{margin:"10px 0",display:"flex",justifyContent:"center"}}}));function Ye(){var e=qe(),t=Object(c.useContext)(y).setTitle;Object(c.useEffect)((function(){t("Manga")}),[]);var n=Object(j.h)().id,i=Object(c.useState)(),r=Object(o.a)(i,2),s=r[0],l=r[1],d=Object(c.useState)([]),u=Object(o.a)(d,2),b=u[0],h=u[1];Object(c.useEffect)((function(){ue.get("/api/v1/manga/".concat(n,"/")).then((function(e){return e.data})).then((function(e){l(e),t(e.title)}))}),[]),Object(c.useEffect)((function(){ue.get("/api/v1/manga/".concat(n,"/chapters")).then((function(e){return e.data})).then((function(e){return h(e)}))}),[]);var O=Object(a.jsx)(Ke,{shouldRender:b.length>0,children:Object(a.jsx)("ol",{className:e.chapters,children:b.map((function(e){return Object(a.jsx)(Ee,{chapter:e})}))})});return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Ke,{shouldRender:void 0!==s,component:He,componentProps:{manga:s}}),O]})}var _e=n(120),Ve=n.n(_e),Xe=function(e){return Object(O.a)({loading:{margin:"100px auto",height:"100vh"},loadingImage:{padding:e.staticNav?"calc(50vh - 40px) calc(50vw - 340px)":"calc(50vh - 40px) calc(50vw - 40px)",height:"100vh",width:"200px",backgroundColor:"#525252",marginBottom:10},image:{display:"block",marginBottom:e.continuesPageGap?"15px":0}})};function Ze(e){var t=e.src,n=e.index,i=e.setCurPage,r=e.settings,s=Xe(r)(),l=Object(c.useState)(""),j=Object(o.a)(l,2),d=j[0],u=j[1],b=Object(c.useRef)(null),h=function(){if(b.current){var e=b.current.getBoundingClientRect();e.y<0&&e.y+e.height>0&&i(n)}};return Object(c.useEffect)((function(){return window.addEventListener("scroll",h),function(){window.removeEventListener("scroll",h)}}),[h]),Object(c.useEffect)((function(){var e=new Image;e.src=t,e.onload=function(){return u(t)}}),[t]),0===d.length?Object(a.jsx)("div",{className:s.loadingImage,children:Object(a.jsx)(ze.a,{thickness:5})}):Object(a.jsx)("img",{className:s.image,ref:b,src:d,alt:"Page #".concat(n),style:{width:"100%"}})}function $e(e){var t=e.src,n=e.index,c=e.setCurPage,i=e.settings,r=Xe(i)();return Object(a.jsx)("div",{style:{margin:"0 auto"},children:Object(a.jsx)(Ve.a,{offset:window.innerHeight,placeholder:Object(a.jsx)("div",{className:r.loading,children:Object(a.jsx)(ze.a,{thickness:5})}),once:!0,children:Object(a.jsx)(Ze,{src:t,index:n,setCurPage:c,settings:i})})})}var Qe=n(36),et=n(121),tt=n.n(et),nt=n(88),at=n.n(nt),ct=n(89),it=n.n(ct),rt=n(123),st=n.n(rt),ot=n(122),lt=n.n(ot),jt=n(23),dt=n(182),ut=n(135),bt=n(253),ht=n(252),Ot=n(251),gt=function(){return{staticNav:!1,showPageNumber:!0,continuesPageGap:!1}};function xt(e){var t=Object(c.useContext)(y).title,n=(Object(c.useContext)(N).darkTheme,Object(j.g)()),i=e.settings,r=e.setSettings,s=e.manga,d=e.chapter,u=e.curPage,b=Object(c.useState)(i.staticNav),h=Object(o.a)(b,2),g=h[0],x=h[1],f=Object(c.useState)(i.staticNav),v=Object(o.a)(f,2),C=v[0],S=v[1],E=Object(c.useState)(!1),I=Object(o.a)(E,2),R=I[0],P=I[1],F=Object(c.useState)(0),T=Object(o.a)(F,2),A=T[0],D=T[1],U=Object(c.useState)(!1),M=Object(o.a)(U,2),W=M[0],G=M[1],z=(Object(jt.a)(),function(e){return Object(O.a)((function(t){return{AppMainContainer:{display:"none"},AppRootElment:{display:"flex"},root:{position:e.staticNav?"sticky":"fixed",top:0,left:0,minWidth:"300px",height:"100vh",overflowY:"auto",backgroundColor:"#0a0b0b","& header":{backgroundColor:"#363b3d",display:"flex",alignItems:"center",minHeight:"64px",paddingLeft:"24px",paddingRight:"24px",transition:"left 2s ease","& button":{flexGrow:0,flexShrink:0},"& button:nth-child(1)":{marginRight:"16px"},"& button:nth-child(3)":{marginRight:"-12px"},"& h1":{fontSize:"1.25rem",flexGrow:1}},"& hr":{margin:"0 16px",height:"1px",border:"0",backgroundColor:"rgb(38, 41, 43)"}},navigation:{margin:"0 16px","& > span:nth-child(1)":{textAlign:"center",display:"block",marginTop:"16px"},"& $navigationChapters":{display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateAreas:'"prev next"',gridColumnGap:"5px",margin:"10px 0","& a":{flexGrow:1,textDecoration:"none","& button":{width:"100%",padding:"5px 8px",textTransform:"none"}}}},navigationChapters:{},settingsCollapsseHeader:{"& span":{fontWeight:"bold"}},openDrawerButton:{position:"fixed",top:20,left:30,height:"40px",width:"40px",borderRadius:5,backgroundColor:"black","&:hover":{backgroundColor:"black"}}}}))}(i)()),J=function(e,t){return r(Object(Qe.a)(Object(Qe.a)({},i),{},Object(Se.a)({},e,t)))},q=function(){var e=window.pageYOffset;Math.abs(e-A)>20&&(P(e>A),D(e))};return Object(c.useEffect)((function(){window.addEventListener("scroll",q);var e=document.querySelector("#root"),t=document.querySelector("#appMainContainer");return e.classList.add(z.AppRootElment),t.classList.add(z.AppMainContainer),function(){e.classList.remove(z.AppRootElment),t.classList.remove(z.AppMainContainer),window.removeEventListener("scroll",q)}}),[q]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ot.a,{onClickAway:function(){return C&&x(!1)},children:Object(a.jsx)(dt.a,{direction:"right",in:g,timeout:200,appear:!1,mountOnEnter:!0,unmountOnExit:!0,onEntered:function(){return S(!0)},onExited:function(){return S(!1)},children:Object(a.jsxs)("div",{className:z.root,children:[Object(a.jsxs)("header",{children:[Object(a.jsx)(p.a,{edge:"start",color:"inherit","aria-label":"menu",disableRipple:!0,onClick:function(){return n.push("/manga/".concat(s.id))},children:Object(a.jsx)(tt.a,{})}),Object(a.jsx)(m.a,{variant:"h1",children:t}),!i.staticNav&&Object(a.jsx)(p.a,{edge:"start",color:"inherit","aria-label":"menu",disableRipple:!0,onClick:function(){return x(!1)},children:Object(a.jsx)(at.a,{})})]}),Object(a.jsxs)(k.a,{ContainerComponent:"div",className:z.settingsCollapsseHeader,children:[Object(a.jsx)(L.a,{primary:"Reader Settings"}),Object(a.jsx)(K.a,{children:Object(a.jsxs)(p.a,{edge:"start",color:"inherit","aria-label":"menu",disableRipple:!0,disableFocusRipple:!0,onClick:function(){return G(!W)},children:[W&&Object(a.jsx)(lt.a,{}),!W&&Object(a.jsx)(st.a,{})]})})]}),Object(a.jsx)(ht.a,{in:W,timeout:"auto",unmountOnExit:!0,children:Object(a.jsxs)(w.a,{children:[Object(a.jsxs)(k.a,{children:[Object(a.jsx)(L.a,{primary:"Static Navigation"}),Object(a.jsx)(K.a,{children:Object(a.jsx)(H.a,{edge:"end",checked:i.staticNav,onChange:function(e){return J("staticNav",e.target.checked)}})})]}),Object(a.jsxs)(k.a,{children:[Object(a.jsx)(L.a,{primary:"Show page number"}),Object(a.jsx)(K.a,{children:Object(a.jsx)(H.a,{edge:"end",checked:i.showPageNumber,onChange:function(e){return J("showPageNumber",e.target.checked)}})})]}),Object(a.jsxs)(k.a,{children:[Object(a.jsx)(L.a,{primary:"Continues Page gap"}),Object(a.jsx)(K.a,{children:Object(a.jsx)(H.a,{edge:"end",checked:i.continuesPageGap,onChange:function(e){return J("continuesPageGap",e.target.checked)}})})]})]})}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:z.navigation,children:[Object(a.jsxs)("span",{children:["Currently on page"," ",u+1," ","of"," ",d.pageCount]}),Object(a.jsxs)("div",{className:z.navigationChapters,children:[d.chapterIndex>1&&Object(a.jsx)(l.b,{style:{gridArea:"prev"},to:"/manga/".concat(s.id,"/chapter/").concat(d.chapterIndex-1),children:Object(a.jsxs)(B.a,{variant:"outlined",startIcon:Object(a.jsx)(at.a,{}),children:["Chapter"," ",d.chapterIndex-1]})}),d.chapterIndex<d.chapterCount&&Object(a.jsx)(l.b,{style:{gridArea:"next"},to:"/manga/".concat(s.id,"/chapter/").concat(d.chapterIndex+1),children:Object(a.jsxs)(B.a,{variant:"outlined",endIcon:Object(a.jsx)(it.a,{}),children:["Chapter"," ",d.chapterIndex+1]})})]})]})]})})}),Object(a.jsx)(bt.a,{in:!g,children:Object(a.jsx)(ut.a,{in:!R,children:Object(a.jsx)(p.a,{className:z.openDrawerButton,edge:"start",color:"inherit","aria-label":"menu",disableRipple:!0,disableFocusRipple:!0,onClick:function(){return x(!0)},children:Object(a.jsx)(it.a,{})})})})]})}var mt=function(){return{pageCount:-1,chapterIndex:-1,chapterCount:0}};function pt(){var e,t=te("readerSettings",gt),n=Object(o.a)(t,2),i=n[0],r=n[1],s=function(e){return Object(O.a)({reader:{display:"flex",flexDirection:"column",justifyContent:"center",margin:"0 auto"},loading:{margin:"50px auto"},pageNumber:{display:e.showPageNumber?"block":"none",position:"fixed",bottom:"50px",right:e.staticNav?"calc((100vw - 325px)/2)":"calc((100vw - 25px)/2)",width:"50px",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"10px"}})}(i)(),l=te("serverBaseURL",""),d=Object(o.a)(l,1)[0],u=Object(j.h)(),b=u.chapterIndex,h=u.mangaId,g=Object(c.useState)({id:+h,title:"",thumbnailUrl:""}),x=Object(o.a)(g,2),m=x[0],p=x[1],f=Object(c.useState)({pageCount:-1,chapterIndex:-1,chapterCount:0}),v=Object(o.a)(f,2),N=v[0],C=v[1],w=Object(c.useState)(0),k=Object(o.a)(w,2),S=k[0],L=k[1],E=Object(c.useContext)(y),I=E.setOverride,R=E.setTitle;return Object(c.useEffect)((function(){return I({status:!0,value:Object(a.jsx)(xt,{settings:i,setSettings:r,manga:m,chapter:N,curPage:S})}),function(){return I({status:!1,value:Object(a.jsx)("div",{})})}}),[m,N,i,S,b]),Object(c.useEffect)((function(){R("Reader"),ue.get("/api/v1/manga/".concat(h,"/")).then((function(e){return e.data})).then((function(e){p(e),R(e.title)}))}),[b]),Object(c.useEffect)((function(){C(mt),ue.get("/api/v1/manga/".concat(h,"/chapter/").concat(b)).then((function(e){return e.data})).then((function(e){C(e)}))}),[b]),-1===N.pageCount?Object(a.jsx)("div",{className:s.loading,children:Object(a.jsx)(ze.a,{thickness:5})}):Object(a.jsxs)("div",{className:s.reader,children:[Object(a.jsx)("div",{className:s.pageNumber,children:"".concat(S+1," / ").concat(N.pageCount)}),(e=N.pageCount,Array.from({length:e},(function(e,t){return t}))).map((function(e){return Object(a.jsx)($e,{index:e,src:"".concat(d,"/api/v1/manga/").concat(h,"/chapter/").concat(b,"/page/").concat(e),setCurPage:L,settings:i},e)}))]})}var ft=n(260),vt=Object(O.a)((function(e){return{root:{TextField:{margin:e.spacing(1),width:"25ch"}}}}));function yt(){var e=Object(c.useContext)(y),t=e.setTitle,n=e.setAction;Object(c.useEffect)((function(){t("Search"),n(Object(a.jsx)(a.Fragment,{}))}),[]);var r=Object(j.h)().sourceId,s=vt(),l=Object(c.useState)(!1),d=Object(o.a)(l,2),u=d[0],b=d[1],h=Object(c.useState)([]),O=Object(o.a)(h,2),g=O[0],x=O[1],m=Object(c.useState)(""),p=Object(o.a)(m,2),f=p[0],v=p[1],N=Object(c.useState)(""),C=Object(o.a)(N,2),w=C[0],k=C[1],S=Object(c.useState)(!1),L=Object(o.a)(S,2),E=L[0],I=L[1],R=Object(c.useState)(1),P=Object(o.a)(R,2),F=P[0],T=P[1],D=i.a.createRef();function U(){if(D.current){var e=D.current.value;""===e?(b(!0),v("Type something to search")):(b(!1),k(e),x([]),v("loading..."))}}Object(c.useEffect)((function(){ue.get("/api/v1/source/".concat(r)).then((function(e){return e.data})).then((function(e){return t("Search: ".concat(e.name))}))}),[]),Object(c.useEffect)((function(){w.length>0&&ue.get("/api/v1/source/".concat(r,"/search/").concat(w,"/").concat(F)).then((function(e){return e.data})).then((function(e){v(""),e.mangaList.length>0?(x([].concat(Object(A.a)(g),Object(A.a)(e.mangaList.map((function(e){return{title:e.title,thumbnailUrl:e.thumbnailUrl,id:e.id}}))))),I(e.hasNextPage)):v("search qeury returned nothing.")}))}),[w]);var M=Object(a.jsx)(we,{mangas:g,message:f,hasNextPage:E,lastPageNum:F,setLastPageNum:T});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:s.root,children:[Object(a.jsx)(ft.a,{inputRef:D,error:u,id:"standard-basic",label:"Search text..",onKeyDown:function(e){return"Enter"===e.key&&U()}}),Object(a.jsx)(B.a,{variant:"contained",color:"primary",onClick:function(){return U()},children:"Search"})]}),M]})}var Nt=n(254),Ct=n(261);function wt(e){var t=e.children,n=e.value,c=e.index;return Object(a.jsx)("div",{role:"tabpanel",hidden:n!==c,id:"simple-tabpanel-".concat(c),children:n===c&&t})}function kt(){var e=Object(c.useContext)(y),t=e.setTitle,n=e.setAction;Object(c.useEffect)((function(){t("Library"),n(Object(a.jsx)(a.Fragment,{}))}),[]);var i,r=Object(c.useState)([]),s=Object(o.a)(r,2),l=s[0],j=s[1],d=Object(c.useState)(0),u=Object(o.a)(d,2),b=u[0],h=u[1],O=Object(c.useState)(1),g=Object(o.a)(O,2),x=g[0],m=g[1];if(Object(c.useEffect)((function(){Promise.all([ue.get("/api/v1/library").then((function(e){return e.data})),ue.get("/api/v1/category").then((function(e){return e.data}))]).then((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1].map((function(e){return{category:e,mangas:[],isFetched:!1}}));n.length>0||0===a.length?j([{category:{name:"Default",isLanding:!0,order:0,id:-1},mangas:n,isFetched:!0}].concat(Object(A.a)(a))):(j(a),h(1))}))}),[]),Object(c.useEffect)((function(){l.forEach((function(e,t){e.category.order!==b||e.isFetched||ue.get("/api/v1/category/".concat(e.category.id)).then((function(e){return e.data})).then((function(e){var n=JSON.parse(JSON.stringify(l));n[t].mangas=e,n[t].isFetched=!0,j(n)}))}))}),[b]),l.length>1){var p=l.map((function(e){return Object(a.jsx)(Nt.a,{label:e.category.name,value:e.category.order})})),f=l.map((function(e){return Object(a.jsx)(wt,{value:b,index:e.category.order,children:Object(a.jsx)(we,{mangas:e.mangas,hasNextPage:!1,lastPageNum:x,setLastPageNum:m,message:e.isFetched?"Category is Empty":"Loading..."})})})),v=window.innerWidth<160*l.length;i=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ct.a,{value:b,onChange:function(e,t){return function(e){h(e)}(t)},indicatorColor:"primary",textColor:"primary",centered:!v,variant:v?"scrollable":"fullWidth",scrollButtons:"on",children:p}),f]})}else{var N=1===l.length?l[0].mangas:[];i=Object(a.jsx)(we,{mangas:N,hasNextPage:!1,lastPageNum:x,setLastPageNum:m,message:l.length>0?"Library is Empty":void 0})}return i}var St=n(124),Lt=n.n(St),Et=n(125),It=n.n(Et),Rt=n(126),Pt=n.n(Rt),Ft=n(76),Tt=n.n(Ft),At=n(255);function Dt(e){return Object(a.jsx)(k.a,Object(Qe.a)({button:!0,component:"a"},e))}function Bt(){var e=Object(c.useContext)(y),t=e.setTitle,n=e.setAction;Object(c.useEffect)((function(){t("Settings"),n(Object(a.jsx)(a.Fragment,{}))}),[]);var i=Object(c.useContext)(N),r=i.darkTheme,s=i.setDarkTheme,l=te("serverBaseURL",""),j=Object(o.a)(l,2),d=j[0],u=j[1],b=Object(c.useState)(!1),h=Object(o.a)(b,2),O=h[0],g=h[1],x=Object(c.useState)(d),m=Object(o.a)(x,2),f=m[0],v=m[1],C=function(){g(!1)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(w.a,{style:{padding:0},children:[Object(a.jsxs)(Dt,{href:"/settings/categories",children:[Object(a.jsx)(S.a,{children:Object(a.jsx)(Lt.a,{})}),Object(a.jsx)(L.a,{primary:"Categories"})]}),Object(a.jsxs)(k.a,{children:[Object(a.jsx)(S.a,{children:Object(a.jsx)(It.a,{})}),Object(a.jsx)(L.a,{primary:"Dark Theme"}),Object(a.jsx)(K.a,{children:Object(a.jsx)(H.a,{edge:"end",checked:r,onChange:function(){return s(!r)}})})]}),Object(a.jsxs)(k.a,{children:[Object(a.jsx)(S.a,{children:Object(a.jsx)(Pt.a,{})}),Object(a.jsx)(L.a,{primary:"Server Address",secondary:d}),Object(a.jsx)(K.a,{children:Object(a.jsx)(p.a,{onClick:function(){v(d),g(!0)},children:Object(a.jsx)(Tt.a,{})})})]})]}),Object(a.jsxs)(G.a,{open:O,onClose:C,children:[Object(a.jsxs)(M.a,{children:[Object(a.jsx)(At.a,{children:"Enter new category name."}),Object(a.jsx)(ft.a,{autoFocus:!0,margin:"dense",id:"name",label:"Category Name",type:"text",fullWidth:!0,value:f,onChange:function(e){return v(e.target.value)}})]}),Object(a.jsxs)(W.a,{children:[Object(a.jsx)(B.a,{onClick:C,color:"primary",children:"Cancel"}),Object(a.jsx)(B.a,{onClick:function(){g(!1),u(f)},color:"primary",children:"Set"})]})]})]})}var Ut=n(77),Mt=n(128),Wt=n.n(Mt),Gt=n(256),Ht=n(130),zt=n.n(Ht),Jt=n(129),Kt=n.n(Jt);function qt(){var e=Object(c.useContext)(y),t=e.setTitle,n=e.setAction;Object(c.useEffect)((function(){t("Categories"),n(Object(a.jsx)(a.Fragment,{}))}),[]);var i=Object(c.useState)([]),r=Object(o.a)(i,2),s=r[0],l=r[1],j=Object(c.useState)(-1),d=Object(o.a)(j,2),u=d[0],b=d[1],h=Object(c.useState)(!1),O=Object(o.a)(h,2),g=O[0],x=O[1],m=Object(c.useState)(""),f=Object(o.a)(m,2),v=f[0],N=f[1],C=Object(jt.a)(),E=Object(c.useState)(0),I=Object(o.a)(E,2),R=I[0],P=I[1],F=function(){return P(R+1)};Object(c.useEffect)((function(){g||ue.get("/api/v1/category/").then((function(e){return e.data})).then((function(e){return l(e)}))}),[R]);var T=function(){N(""),b(-1),x(!0)},A=function(){x(!1)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ut.a,{onDragEnd:function(e){e.destination&&l(function(e,t,n){var a=e[t],c=new FormData;c.append("from",t+1),c.append("to",n+1),ue.post("/api/v1/category/".concat(a.id,"/reorder"),c).finally((function(){return F()}));var i=Array.from(e),r=i.splice(t,1),s=Object(o.a)(r,1)[0];return i.splice(n,0,s),i}(s,e.source.index,e.destination.index))},children:Object(a.jsx)(Ut.c,{droppableId:"droppable",children:function(e){return Object(a.jsxs)(w.a,{ref:e.innerRef,children:[s.map((function(e,t){return Object(a.jsx)(Ut.b,{draggableId:e.id.toString(),index:t,children:function(n,c){return Object(a.jsxs)(k.a,Object(Qe.a)(Object(Qe.a)(Object(Qe.a)({ContainerComponent:"li",ContainerProps:{ref:n.innerRef}},n.draggableProps),n.dragHandleProps),{},{style:(i=c.isDragging,r=n.draggableProps.style,o=C.palette,Object(Qe.a)(Object(Qe.a)({},r),i&&{background:"dark"===o.type?"#424242":"rgb(235,235,235)"})),ref:n.innerRef,children:[Object(a.jsx)(S.a,{children:Object(a.jsx)(Wt.a,{})}),Object(a.jsx)(L.a,{primary:e.name}),Object(a.jsx)(p.a,{onClick:function(){T(),b(t)},children:Object(a.jsx)(Tt.a,{})}),Object(a.jsx)(p.a,{onClick:function(){!function(e){var t=s[e];ue.delete("/api/v1/category/".concat(t.id)).finally((function(){return F()}))}(t)},children:Object(a.jsx)(Kt.a,{})})]}));var i,r,o}},e.id)})),e.placeholder]})}})}),Object(a.jsx)(Gt.a,{color:"primary","aria-label":"add",style:{position:"absolute",bottom:C.spacing(2),right:C.spacing(2)},onClick:T,children:Object(a.jsx)(zt.a,{})}),Object(a.jsxs)(G.a,{open:g,onClose:A,children:[Object(a.jsx)(U.a,{id:"form-dialog-title",children:-1===u?"New Catalog":"Rename: ".concat(s[u].name)}),Object(a.jsxs)(M.a,{children:[Object(a.jsx)(At.a,{children:"Enter new category name."}),Object(a.jsx)(ft.a,{autoFocus:!0,margin:"dense",id:"name",label:"Category Name",type:"text",fullWidth:!0,value:v,onChange:function(e){return N(e.target.value)}})]}),Object(a.jsxs)(W.a,{children:[Object(a.jsx)(B.a,{onClick:A,color:"primary",children:"Cancel"}),Object(a.jsx)(B.a,{onClick:function(){x(!1);var e=new FormData;if(e.append("name",v),-1===u)ue.post("/api/v1/category/",e).finally((function(){return F()}));else{var t=s[u];ue.patch("/api/v1/category/".concat(t.id),e).finally((function(){return F()}))}},color:"primary",children:"Submit"})]})]})]})}function Yt(){var e=Object(c.useState)("Tachidesk"),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(Object(a.jsx)("div",{})),O=Object(o.a)(s,2),g=O[0],x=O[1],m=Object(c.useState)({status:!1,value:Object(a.jsx)("div",{})}),p=Object(o.a)(m,2),f=p[0],v=p[1],C=te("darkTheme",!0),w=Object(o.a)(C,2),k=w[0],S=w[1],L={title:n,setTitle:r,action:g,setAction:x,override:f,setOverride:v},E={darkTheme:k,setDarkTheme:S},I=i.a.useMemo((function(){return Object(b.a)({palette:{type:k?"dark":"light"},overrides:{MuiCssBaseline:{"@global":{"*::-webkit-scrollbar":{width:"10px",background:k?"#222":"#e1e1e1"},"*::-webkit-scrollbar-thumb":{background:k?"#111":"#aaa",borderRadius:"5px"}}}}})}),[k]);return Object(a.jsx)(l.a,{children:Object(a.jsx)(h.a,{theme:I,children:Object(a.jsxs)(y.Provider,{value:L,children:[Object(a.jsx)(u.a,{}),Object(a.jsx)(T,{}),Object(a.jsx)(d.a,{id:"appMainContainer",maxWidth:!1,disableGutters:!0,style:{paddingTop:"64px"},children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{path:"/sources/:sourceId/search/",children:Object(a.jsx)(yt,{})}),Object(a.jsx)(j.b,{path:"/extensions",children:Object(a.jsx)(pe,{})}),Object(a.jsx)(j.b,{path:"/sources/:sourceId/popular/",children:Object(a.jsx)(ke,{popular:!0})}),Object(a.jsx)(j.b,{path:"/sources/:sourceId/latest/",children:Object(a.jsx)(ke,{popular:!1})}),Object(a.jsx)(j.b,{path:"/sources",children:Object(a.jsx)(Oe,{})}),Object(a.jsx)(j.b,{path:"/manga/:mangaId/chapter/:chapterNum",children:Object(a.jsx)(a.Fragment,{})}),Object(a.jsx)(j.b,{path:"/manga/:id",children:Object(a.jsx)(Ye,{})}),Object(a.jsx)(j.b,{path:"/library",children:Object(a.jsx)(kt,{})}),Object(a.jsx)(j.b,{path:"/settings/categories",children:Object(a.jsx)(qt,{})}),Object(a.jsx)(j.b,{path:"/settings",children:Object(a.jsx)(N.Provider,{value:E,children:Object(a.jsx)(Bt,{})})}),Object(a.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(a.jsx)(j.a,{to:"/library"})}})]})}),Object(a.jsx)(j.d,{children:Object(a.jsx)(j.b,{path:"/manga/:mangaId/chapter/:chapterIndex",children:Object(a.jsx)(pt,{})})})]})})})}n(179),n(180);s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(Yt,{})}),document.getElementById("root"))}},[[181,1,2]]]);
//# sourceMappingURL=main.e87d84e6.chunk.js.map